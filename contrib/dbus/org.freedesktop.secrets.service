# D-Bus session bus activation file for rosecd.
#
# System-wide install (pacman / make install):
#   /usr/share/dbus-1/services/org.freedesktop.secrets.service
#
# Per-user install (cargo install / development):
#   ~/.local/share/dbus-1/services/org.freedesktop.secrets.service
#
# When any client first calls a method on org.freedesktop.secrets the D-Bus
# daemon consults this file.  SystemdService= delegates activation to systemd
# rather than exec-ing rosecd directly; systemd then starts rosecd.service
# (which also pulls in rosecd.socket via the Also= directive in [Install]).
#
# Activation chain:
#   client → dbus-daemon → rosecd.service (Type=dbus, BusName=...)
#                        → rosecd.socket  (via Also= in rosecd.service)
#
# Without systemd: remove SystemdService= and ensure rosecd is started via
# XDG autostart (contrib/autostart/rosecd.desktop) or compositor exec-once.

[D-BUS Service]
Name=org.freedesktop.secrets
Exec=/usr/bin/rosecd
SystemdService=rosecd.service
